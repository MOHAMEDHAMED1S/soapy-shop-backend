# Product Discounts System - Ù†Ø¸Ø§Ù… Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù…ØªØ¬Ø± Soapy Shop. ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø¯ÙŠØ± Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø®ØµÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£Ùˆ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ø¨Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© Ø£Ùˆ Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª.

---

## Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### âœ… Ù„Ù„Ø£Ø¯Ù…Ù† (Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
- Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ… (Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© Ø£Ùˆ Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª)
- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø£Ùˆ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø©
- Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª (ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù†ØªÙ‡Ø§Ø¡)
- ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ù†Ø³Ø® Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ£Ø«Ø±Ø© Ø¨Ø§Ù„Ø®ØµÙ…
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø©

### âœ… Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ (ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
- Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ ÙˆØ§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
- Ø¹Ø±Ø¶ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù†ØªØ¬
- ØªØ·Ø¨ÙŠÙ‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø®ØµÙˆÙ…Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©

---

## Ù‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ø¬Ø¯ÙˆÙ„ `product_discounts`
```sql
- id: bigint (PK)
- name: string (Ø§Ø³Ù… Ø§Ù„Ø®ØµÙ…)
- description: text (ÙˆØµÙ Ø§Ù„Ø®ØµÙ…)
- discount_type: enum['percentage', 'fixed'] (Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…)
- discount_value: decimal(10,3) (Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…)
- apply_to: enum['all_products', 'specific_products'] (Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚)
- is_active: boolean (Ù†Ø´Ø·/ØºÙŠØ± Ù†Ø´Ø·)
- starts_at: timestamp (ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©)
- expires_at: timestamp (ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡)
- priority: integer (Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©)
- created_at, updated_at
```

### Ø¬Ø¯ÙˆÙ„ `product_discount_products` (Ø¹Ù„Ø§Ù‚Ø© Many-to-Many)
```sql
- id: bigint (PK)
- product_discount_id: bigint (FK)
- product_id: bigint (FK)
- created_at, updated_at
```

---

## Admin APIs - Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ APIs ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ JWT authentication Ùˆ admin middleware.

### 1. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
```http
GET /api/v1/admin/product-discounts
```

**Query Parameters:**
```javascript
{
  page: 1,                 // Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø©
  per_page: 15,            // Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„ØµÙØ­Ø©
  status: 'active',        // active, inactive, expired, upcoming
  discount_type: 'percentage', // percentage, fixed
  apply_to: 'all_products',    // all_products, specific_products
  search: 'Ø®ØµÙ…',          // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙˆØµÙ
  sort_by: 'priority',     // Ø­Ù‚Ù„ Ø§Ù„ØªØ±ØªÙŠØ¨
  sort_direction: 'desc'   // asc, desc
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "discounts": {
      "data": [
        {
          "id": 1,
          "name": "Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
          "description": "Ø®ØµÙ… 50% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
          "discount_type": "percentage",
          "discount_value": "50.000",
          "apply_to": "all_products",
          "is_active": true,
          "starts_at": "2025-10-25T00:00:00.000000Z",
          "expires_at": "2025-10-27T23:59:59.000000Z",
          "priority": 10,
          "formatted_discount": "50%",
          "status_text": "Ù†Ø´Ø·",
          "products": [],
          "created_at": "2025-10-24T12:00:00.000000Z",
          "updated_at": "2025-10-24T12:00:00.000000Z"
        }
      ],
      "current_page": 1,
      "per_page": 15,
      "total": 5
    },
    "summary": {
      "total_discounts": 5,
      "active_discounts": 3,
      "all_products_discounts": 1,
      "specific_products_discounts": 2
    }
  }
}
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯
```http
POST /api/v1/admin/product-discounts
```

**Request Body:**
```json
{
  "name": "Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
  "description": "Ø®ØµÙ… 50% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
  "discount_type": "percentage",   // percentage Ø£Ùˆ fixed
  "discount_value": 50,
  "apply_to": "all_products",      // all_products Ø£Ùˆ specific_products
  "product_ids": [],               // Ù…Ø·Ù„ÙˆØ¨ ÙÙ‚Ø· Ø¥Ø°Ø§ apply_to = specific_products
  "is_active": true,
  "starts_at": "2025-10-25 00:00:00",
  "expires_at": "2025-10-27 23:59:59",
  "priority": 10
}
```

**Ù…Ø«Ø§Ù„ Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø©:**
```json
{
  "name": "Ø®ØµÙ… Ø§Ù„ØµØ§Ø¨ÙˆÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ",
  "description": "Ø®ØµÙ… 3 Ø¯ÙŠÙ†Ø§Ø± Ø¹Ù„Ù‰ Ø§Ù„ØµØ§Ø¨ÙˆÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ",
  "discount_type": "fixed",        // Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª
  "discount_value": 3.000,
  "apply_to": "specific_products",
  "product_ids": [1, 2, 3, 4],    // IDs Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  "is_active": true,
  "starts_at": null,               // ÙŠØ¨Ø¯Ø£ ÙÙˆØ±Ø§Ù‹
  "expires_at": null,              // Ù„Ø§ ÙŠÙ†ØªÙ‡ÙŠ
  "priority": 5
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
    // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  },
  "message": "Product discount created successfully"
}
```

### 3. ØªØ¹Ø¯ÙŠÙ„ Ø®ØµÙ…
```http
PUT /api/v1/admin/product-discounts/{id}
```

**Request Body:** (ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
```json
{
  "name": "Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ Ø§Ù„Ù…Ø­Ø¯Ø«",
  "discount_value": 60,
  "is_active": false
}
```

### 4. Ø­Ø°Ù Ø®ØµÙ…
```http
DELETE /api/v1/admin/product-discounts/{id}
```

### 5. ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø®ØµÙ…
```http
PUT /api/v1/admin/product-discounts/{id}/toggle-status
```

### 6. Ù†Ø³Ø® Ø®ØµÙ…
```http
POST /api/v1/admin/product-discounts/{id}/duplicate
```

### 7. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ£Ø«Ø±Ø© Ø¨Ø§Ù„Ø®ØµÙ…
```http
GET /api/v1/admin/product-discounts/{id}/affected-products
```

**Response:**
```json
{
  "success": true,
  "data": {
    "discount": {
      "id": 1,
      "name": "Ø®ØµÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡",
      // ...
    },
    "products": {
      "data": [
        {
          "id": 1,
          "title": "ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ",
          "price": "10.000",
          "has_discount": true,
          "discount_percentage": 50,
          "discounted_price": "5.000",
          "price_before_discount": "10.000",
          // ...
        }
      ]
    }
  }
}
```

### 8. Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
```http
GET /api/v1/admin/product-discounts/statistics
```

**Response:**
```json
{
  "success": true,
  "data": {
    "total_discounts": 5,
    "active_discounts": 3,
    "inactive_discounts": 2,
    "expired_discounts": 1,
    "upcoming_discounts": 0,
    "all_products_discounts": 1,
    "specific_products_discounts": 2,
    "percentage_discounts": 3,
    "fixed_discounts": 2,
    "products_with_discounts": 25
  }
}
```

---

## Customer APIs - Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡

### Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®ØµÙ…)
```http
GET /api/v1/products
```

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "title": "ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø²ÙŠØª Ø§Ù„Ø²ÙŠØªÙˆÙ†",
      "price": "10.000",              // Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ
      "currency": "KWD",
      "has_discount": true,           // âœ… Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø®ØµÙ…
      "discount_percentage": 50.00,   // âœ… Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…
      "discounted_price": "5.000",    // âœ… Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
      "price_before_discount": "10.000", // âœ… Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…
      "discount_amount": "5.000",     // Ù…Ø¨Ù„Øº Ø§Ù„Ø®ØµÙ…
      "images": [...],
      "category": {...}
    }
  ]
}
```

### Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯ (Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®ØµÙ…)
```http
GET /api/v1/products/{slug}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "id": 1,
    "title": "ØµØ§Ø¨ÙˆÙ† Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø²ÙŠØª Ø§Ù„Ø²ÙŠØªÙˆÙ†",
    "slug": "natural-olive-soap",
    "description": "...",
    "price": "10.000",
    "has_discount": true,
    "discount_percentage": 50.00,
    "discounted_price": "5.000",
    "price_before_discount": "10.000",
    // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  }
}
```

---

## Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Front-end

### 1. ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª (Admin Panel)

#### Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
```javascript
// React/Vue/Angular Example
import axios from 'axios';

const fetchDiscounts = async (filters = {}) => {
  const response = await axios.get('/api/v1/admin/product-discounts', {
    params: {
      page: filters.page || 1,
      per_page: 15,
      status: filters.status,
      search: filters.search,
    },
    headers: {
      Authorization: `Bearer ${token}`
    }
  });
  
  return response.data;
};
```

#### Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù†Ø´Ø§Ø¡ Ø®ØµÙ…
```javascript
const createDiscount = async (discountData) => {
  const response = await axios.post(
    '/api/v1/admin/product-discounts',
    {
      name: discountData.name,
      description: discountData.description,
      discount_type: discountData.type, // 'percentage' or 'fixed'
      discount_value: discountData.value,
      apply_to: discountData.applyTo, // 'all_products' or 'specific_products'
      product_ids: discountData.productIds, // array of product IDs
      is_active: true,
      starts_at: discountData.startsAt,
      expires_at: discountData.expiresAt,
      priority: discountData.priority || 0
    },
    {
      headers: {
        Authorization: `Bearer ${token}`
      }
    }
  );
  
  return response.data;
};
```

### 2. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø§Ù„Ø®ØµÙ… (Customer UI)

#### Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø¨Ø·Ø§Ù‚Ø©
```jsx
// React Component Example
const ProductCard = ({ product }) => {
  return (
    <div className="product-card">
      <img src={product.images[0]} alt={product.title} />
      
      <h3>{product.title}</h3>
      
      <div className="price-section">
        {product.has_discount ? (
          <>
            {/* Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ… */}
            <span className="discounted-price">
              {product.discounted_price} {product.currency}
            </span>
            
            {/* Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ø´Ø·ÙˆØ¨ */}
            <span className="original-price">
              {product.price_before_discount} {product.currency}
            </span>
            
            {/* Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… */}
            <span className="discount-badge">
              {Math.round(product.discount_percentage)}% Ø®ØµÙ…
            </span>
          </>
        ) : (
          <span className="price">
            {product.price} {product.currency}
          </span>
        )}
      </div>
    </div>
  );
};
```

#### CSS Ù„Ù„ØªØµÙ…ÙŠÙ…
```css
.price-section {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 10px;
}

.discounted-price {
  font-size: 1.5rem;
  font-weight: bold;
  color: #e74c3c; /* Ø£Ø­Ù…Ø± Ù„Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø®ÙØ¶ */
}

.original-price {
  font-size: 1rem;
  color: #95a5a6;
  text-decoration: line-through;
}

.discount-badge {
  background: #e74c3c;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.875rem;
  font-weight: bold;
}
```

### 3. ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª (Admin UI)

#### Form Component Ù„Ù„Ø®ØµÙ…
```jsx
const DiscountForm = ({ onSubmit, initialData = {} }) => {
  const [formData, setFormData] = useState({
    name: initialData.name || '',
    description: initialData.description || '',
    discountType: initialData.discount_type || 'percentage',
    discountValue: initialData.discount_value || 0,
    applyTo: initialData.apply_to || 'all_products',
    productIds: initialData.product_ids || [],
    isActive: initialData.is_active ?? true,
    startsAt: initialData.starts_at || null,
    expiresAt: initialData.expires_at || null,
    priority: initialData.priority || 0
  });

  return (
    <form onSubmit={(e) => {
      e.preventDefault();
      onSubmit(formData);
    }}>
      {/* Ø§Ø³Ù… Ø§Ù„Ø®ØµÙ… */}
      <input
        type="text"
        placeholder="Ø§Ø³Ù… Ø§Ù„Ø®ØµÙ…"
        value={formData.name}
        onChange={(e) => setFormData({...formData, name: e.target.value})}
        required
      />

      {/* Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ… */}
      <select
        value={formData.discountType}
        onChange={(e) => setFormData({...formData, discountType: e.target.value})}
      >
        <option value="percentage">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© (%)</option>
        <option value="fixed">Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª (KWD)</option>
      </select>

      {/* Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ… */}
      <input
        type="number"
        step="0.001"
        placeholder={formData.discountType === 'percentage' ? 'Ø§Ù„Ù†Ø³Ø¨Ø©' : 'Ø§Ù„Ù…Ø¨Ù„Øº'}
        value={formData.discountValue}
        onChange={(e) => setFormData({...formData, discountValue: e.target.value})}
        required
      />

      {/* Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */}
      <select
        value={formData.applyTo}
        onChange={(e) => setFormData({...formData, applyTo: e.target.value})}
      >
        <option value="all_products">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</option>
        <option value="specific_products">Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø©</option>
      </select>

      {/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø©) */}
      {formData.applyTo === 'specific_products' && (
        <ProductMultiSelect
          selectedIds={formData.productIds}
          onChange={(ids) => setFormData({...formData, productIds: ids})}
        />
      )}

      {/* ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ */}
      <input
        type="datetime-local"
        placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©"
        value={formData.startsAt}
        onChange={(e) => setFormData({...formData, startsAt: e.target.value})}
      />

      <input
        type="datetime-local"
        placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡"
        value={formData.expiresAt}
        onChange={(e) => setFormData({...formData, expiresAt: e.target.value})}
      />

      <button type="submit">Ø­ÙØ¸</button>
    </form>
  );
};
```

---

## Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„ (Business Logic)

### 1. Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† Ø®ØµÙ… ÙŠØ·Ø¨Ù‚ Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬ ÙˆØ§Ø­Ø¯ØŒ ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®ØµÙ… Ø°Ùˆ **Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø£Ø¹Ù„Ù‰** (`priority`)
- Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù„Ù„Ù…Ù†ØªØ¬ Ù„Ù‡Ø§ Ù†ÙØ³ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ù…Ø¹ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

### 2. ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø®ØµÙ…
Ø§Ù„Ø®ØµÙ… ÙŠØ¹ØªØ¨Ø± ØµØ§Ù„Ø­ Ø¥Ø°Ø§:
- âœ… `is_active = true`
- âœ… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ >= `starts_at` (Ø£Ùˆ `starts_at` null)
- âœ… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ <= `expires_at` (Ø£Ùˆ `expires_at` null)

### 3. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ø®ÙØ¶

#### Ù„Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©:
```
discount_amount = (original_price Ã— discount_value) / 100
final_price = original_price - discount_amount
```

#### Ù„Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø«Ø§Ø¨Øª:
```
final_price = original_price - discount_value
```

**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ø³Ø§Ù„Ø¨ (minimum = 0)

---

## Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: Ø®ØµÙ… 30% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
```json
{
  "name": "Ø®ØµÙ… Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ÙˆØ³Ù…",
  "discount_type": "percentage",
  "discount_value": 30,
  "apply_to": "all_products",
  "is_active": true
}
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- Ù…Ù†ØªØ¬ Ø¨Ø³Ø¹Ø± 10 KWD â†’ 7 KWD
- Ù…Ù†ØªØ¬ Ø¨Ø³Ø¹Ø± 15 KWD â†’ 10.5 KWD

### Ù…Ø«Ø§Ù„ 2: Ø®ØµÙ… 2 Ø¯ÙŠÙ†Ø§Ø± Ø¹Ù„Ù‰ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø­Ø¯Ø¯Ø©
```json
{
  "name": "Ø®ØµÙ… Ø§Ù„ØµØ§Ø¨ÙˆÙ† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ",
  "discount_type": "fixed",
  "discount_value": 2,
  "apply_to": "specific_products",
  "product_ids": [1, 2, 3]
}
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- Ù…Ù†ØªØ¬ 1 Ø¨Ø³Ø¹Ø± 10 KWD â†’ 8 KWD
- Ù…Ù†ØªØ¬ 2 Ø¨Ø³Ø¹Ø± 8 KWD â†’ 6 KWD
- Ù…Ù†ØªØ¬ 4 Ø¨Ø³Ø¹Ø± 10 KWD â†’ 10 KWD (Ù„Ø§ Ø®ØµÙ…)

---

## Ø§Ù„Ø®Ù„Ø§ØµØ©

Ù†Ø¸Ø§Ù… Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙŠÙˆÙØ±:
- âœ… Ù…Ø±ÙˆÙ†Ø© ÙƒØ§Ù…Ù„Ø© ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- âœ… ØªØ·Ø¨ÙŠÙ‚ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø®ØµÙˆÙ…Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
- âœ… Ø¹Ø±Ø¶ ÙˆØ§Ø¶Ø­ Ù„Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
- âœ… Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª
- âœ… Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ù„Ù„Ø®ØµÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø©
- âœ… ÙˆØ§Ø¬Ù‡Ø© Ø³Ù‡Ù„Ø© Ù„Ù„Ø£Ø¯Ù…Ù† ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡

**Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…! ğŸ‰**

